{% extends "base.html" %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden">
    <div class="bg-blue-600 text-white p-6">
        <h2 class="text-2xl font-bold">
            <i class="fas fa-search mr-2"></i>Check a Social Media Profile
        </h2>
        <p class="text-blue-100 mt-1">
            Enter the profile details below to check if it might be fake
        </p>
    </div>

    <form action="/predict" method="POST" class="p-6">
        <div class="space-y-6">
            <!-- Profile Information -->
            <div>
                <h3 class="text-lg font-medium text-gray-900 mb-4">Profile Information</h3>
                <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
                    <div>
                        <label for="user_id" class="block text-sm font-medium text-gray-700">User ID</label>
                        <input type="text" name="user_id" id="user_id" placeholder="e.g., 1234567890"
                               class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                        <p class="mt-1 text-xs text-gray-500">Enter the profile's unique identifier</p>
                    </div>
                    
                    <div>
                        <label for="language" class="block text-sm font-medium text-gray-700">Language</label>
                        <select id="language" name="language" class="mt-1 block w-full border border-gray-300 bg-white rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            <option value="en">English (en)</option>
                            <option value="es">Spanish (es)</option>
                            <option value="fr">French (fr)</option>
                            <option value="de">German (de)</option>
                            <option value="ja">Japanese (ja)</option>
                            <option value="ru">Russian (ru)</option>
                            <option value="zh">Chinese (zh)</option>
                            <option value="ar">Arabic (ar)</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Activity Metrics -->
            <div>
                <h3 class="text-lg font-medium text-gray-900 mb-4">Activity Metrics</h3>
                <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
                    <div>
                        <label for="post_count" class="block text-sm font-medium text-gray-700">Number of Posts/Statuses</label>
                        <input type="number" name="post_count" id="post_count" min="0" value="0" required
                               class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    
                    <div>
                        <label for="followers_count" class="block text-sm font-medium text-gray-700">Number of Followers</label>
                        <input type="number" name="followers_count" id="followers_count" min="0" value="0" required
                               class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    
                    <div>
                        <label for="following_count" class="block text-sm font-medium text-gray-700">Number Following</label>
                        <input type="number" name="following_count" id="following_count" min="0" value="0" required
                               class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    
                    <div>
                        <label for="has_profile_pic" class="block text-sm font-medium text-gray-700">Has Profile Picture</label>
                        <select id="has_profile_pic" name="has_profile_pic" required
                                class="mt-1 block w-full border border-gray-300 bg-white rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            <option value="true" selected>Yes</option>
                            <option value="false">No</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="is_private" class="block text-sm font-medium text-gray-700">Is Private Account</label>
                        <select id="is_private" name="is_private" required
                                class="mt-1 block w-full border border-gray-300 bg-white rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            <option value="false" selected>No</option>
                            <option value="true">Yes</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="is_verified" class="block text-sm font-medium text-gray-700">Is Verified</label>
                        <select id="is_verified" name="is_verified" required
                                class="mt-1 block w-full border border-gray-300 bg-white rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                            <option value="false" selected>No</option>
                            <option value="true">Yes</option>
                        </select>
                    </div>
                    
                </div>
            </div>

            <!-- Submit Button -->
            <div class="pt-2">
                <button type="submit" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                    <i class="fas fa-search mr-2"></i> Check Profile
                </button>
            </div>
        </div>
    </form>

    <!-- Information Section -->
    <div class="bg-gray-50 px-6 py-4 border-t border-gray-200">
        <h3 class="text-lg font-medium text-gray-900 mb-2">How It Works</h3>
        <p class="text-sm text-gray-600 mb-4">
            Our system analyzes various profile metrics to determine the likelihood of a profile being fake. 
            The more information you provide, the more accurate the results will be.
        </p>
        
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-3">
            <div class="flex items-start">
                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center">
                    <i class="fas fa-shield-alt text-blue-600"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm font-medium text-gray-900">Secure</p>
                    <p class="text-sm text-gray-500">Your data is processed securely and not stored.</p>
                </div>
            </div>
            
            <div class="flex items-start">
                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center">
                    <i class="fas fa-bolt text-blue-600"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm font-medium text-gray-900">Fast</p>
                    <p class="text-sm text-gray-500">Get instant results with our AI-powered analysis.</p>
                </div>
            </div>
            
            <div class="flex items-start">
                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center">
                    <i class="fas fa-chart-line text-blue-600"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm font-medium text-gray-900">Accurate</p>
                    <p class="text-sm text-gray-500">Trained on thousands of verified profiles.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Sample Profiles Section -->
<div class="mt-8 bg-white shadow rounded-lg overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200">
        <h3 class="text-lg font-medium text-gray-900">Try with Sample Profiles</h3>
        <p class="mt-1 text-sm text-gray-500">Click on a sample profile to fill the form automatically.</p>
    </div>
    <div class="bg-gray-50 px-6 py-4">
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-3">
            <button type="button" onclick="fillSample('suspicious')" class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                <i class="fas fa-user-secret mr-2 text-red-500"></i> Suspicious Profile
            </button>
            <button type="button" onclick="fillSample('normal')" class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                <i class="fas fa-user-check mr-2 text-green-500"></i> Normal Profile
            </button>
            <button type="button" onclick="fillSample('influencer')" class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                <i class="fas fa-star mr-2 text-yellow-500"></i> Influencer Profile
            </button>
        </div>
    </div>
</div>

<script>
function fillSample(type) {
    const samples = {
        suspicious: {
            user_id: 'user_78901234',
            post_count: 5,
            followers_count: 1500,
            following_count: 2,
            has_profile_pic: 'false',
            is_private: 'true',
            is_verified: 'false',
            language: 'en'
        },
        normal: {
            user_id: 'user_34567890',
            post_count: 580,     // More realistic for a normal user
            followers_count: 1240,   // Increased to pass heuristic
            following_count: 890,    // More balanced following
            has_profile_pic: 'true',
            is_private: 'false',
            is_verified: 'false',
            language: 'en'
        },
        influencer: {
            user_id: 'user_12345678',
            post_count: 5240,    // More realistic for an influencer
            followers_count: 125000,
            following_count: 1240,   // More balanced following
            has_profile_pic: 'true',
            is_private: 'false',
            is_verified: 'true',
            language: 'en'
        }
    };

    const sample = samples[type];
    if (!sample) return;

    // Fill the form
    document.getElementById('user_id').value = sample.user_id;
    document.getElementById('post_count').value = sample.post_count;
    document.getElementById('followers_count').value = sample.followers_count;
    document.getElementById('following_count').value = sample.following_count;
    document.getElementById('has_profile_pic').value = sample.has_profile_pic;
    document.getElementById('is_private').value = sample.is_private;
    document.getElementById('is_verified').value = sample.is_verified;
    document.getElementById('language').value = sample.language;
}
</script>
{% endblock %}
